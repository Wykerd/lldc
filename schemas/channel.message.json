{
    "title": "Message",
    "description": "Represents a message sent in a channel within Discord.",
    "type": "object",
    "properties": {
        "id": {
            "description": "id of the message",
            "type": "snowflake"
        },
        "channel_id": {
            "description": "id of the channel the message was sent in",
            "type": "snowflake"
        },
        "guild_id": {
            "description": "OPTIONAL: id of the guild the message was sent in",
            "type": "snowflake"
        },
        "author": {
            "description": "the author of this message (not guaranteed to be a valid user, see below)",
            "type": "object",
            "existing_parser": "user"
        },
        "member": {
            "description": "OPTIONAL: member properties for this message's author",
            "type": "object",
            "existing_parser": "partial_guild_member"
        },
        "content": {
            "description": "contents of the message",
            "type": "string"
        },
        "timestamp": {
            "description": "when this message was sent",
            "type": "timestamp"
        },
        "edited_timestamp": {
            "description": "OPTIONAL: when this message was edited (or null if never)",
            "type": "timestamp"
        },
        "tts": {
            "description": "whether this was a TTS message",
            "type": "boolean"
        },
        "mention_everyone": {
            "description": "whether this message mentions everyone",
            "type": "boolean"
        },
        "mentions": {
            "description": "users specifically mentioned in the message",
            "type": "array",
            "existing_parser": "user_arr"
        },
        "mention_roles": {
            "description": "roles specifically mentioned in this message",
            "type": "array",
            "items": {
                "description": "array of role object ids",
                "type": "snowflake"
            }
        },
        "mention_channels": {
            "description": "OPTIONAL: channels specifically mentioned in this message",
            "type": "array",
            "existing_parser": "channel_mention"
        },
        "attachments": {
            "description": "any attached files",
            "type": "array",
            "existing_parser": "attachment_arr"
        },
        "embeds": {
            "description": "any embedded content",
            "type": "array",
            "existing_parser": "embed_arr"
        },
        "reactions": {
            "description": "OPTIONAL: reactions to the message",
            "type": "array",
            "existing_parser": "reaction"
        },
        "pinned": {
            "description": "whether this message is pinned",
            "type": "boolean"
        },
        "webhook_id": {
            "description": "OPTIONAL: if the message is generated by a webhook, this is the webhook's id",
            "type": "snowflake"
        },
        "type": {
            "description": "type of message",
            "type": "int",
            "enum_prefix": "LLDC_MSG_",
            "enum_type": "message_type",
            "enum": [
                [
                    "0",
                    "DEFAULT"
                ],
                [
                    "1",
                    "RECIPIENT_ADD"
                ],
                [
                    "2",
                    "RECIPIENT_REMOVE"
                ],
                [
                    "3",
                    "CALL"
                ],
                [
                    "4",
                    "CHANNEL_NAME_CHANGE"
                ],
                [
                    "5",
                    "CHANNEL_ICON_CHANGE"
                ],
                [
                    "6",
                    "CHANNEL_PINNED_MESSAGE"
                ],
                [
                    "7",
                    "GUILD_MEMBER_JOIN"
                ],
                [
                    "8",
                    "USER_PREMIUM_GUILD_SUBSCRIPTION"
                ],
                [
                    "9",
                    "USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_1"
                ],
                [
                    "10",
                    "USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_2"
                ],
                [
                    "11",
                    "USER_PREMIUM_GUILD_SUBSCRIPTION_TIER_3"
                ],
                [
                    "12",
                    "CHANNEL_FOLLOW_ADD"
                ],
                [
                    "14",
                    "GUILD_DISCOVERY_DISQUALIFIED"
                ],
                [
                    "15",
                    "GUILD_DISCOVERY_REQUALIFIED"
                ],
                [
                    "16",
                    "GUILD_DISCOVERY_GRACE_PERIOD_INITIAL_WARNING"
                ],
                [
                    "17",
                    "GUILD_DISCOVERY_GRACE_PERIOD_FINAL_WARNING"
                ],
                [
                    "18",
                    "THREAD_CREATED"
                ],
                [
                    "19",
                    "REPLY"
                ],
                [
                    "20",
                    "APPLICATION_COMMAND"
                ],
                [
                    "21",
                    "THREAD_STARTER_MESSAGE"
                ],
                [
                    "22",
                    "GUILD_INVITE_REMINDER"
                ]
            ]
        },
        "activity": {
            "description": "OPTIONAL: sent with Rich Presence-related chat embeds",
            "type": "object",
            "exisiting_parser": "message_activity"
        },
        "application": {
            "description": "OPTIONAL: sent with Rich Presence-related chat embeds",
            "type": "object",
            "exisiting_parser": "application"
        },
        "application_id": {
            "description": "OPTIONAL: if the message is a response to an Interaction, this is the id of the interaction's application",
            "type": "snowflake"
        },
        "message_reference": {
            "description": "OPTIONAL: data showing the source of a crosspost, channel follow add, pin, or reply message",
            "type": "object",
            "existing_parser": "message_reference"
        },
        "flags": {
            "description": "OPTIONAL: message flags combined as a bitfield",
            "type": "int",
            "enum_prefix": "LLDC_MSG_FLAG_",
            "enum_type": "message_flags",
            "enum": [
                [
                    "1 << 0",
                    "CROSSPOSTED",
                    "this message has been published to subscribed channels (via Channel Following)"
                ],
                [
                    "1 << 1",
                    "IS_CROSSPOST",
                    "this message originated from a message in another channel (via Channel Following)"
                ],
                [
                    "1 << 2",
                    "SUPPRESS_EMBEDS",
                    "do not include any embeds when serializing this message"
                ],
                [
                    "1 << 3",
                    "SOURCE_MESSAGE_DELETED",
                    "the source message for this crosspost has been deleted (via Channel Following)"
                ],
                [
                    "1 << 4",
                    "URGENT",
                    "this message came from the urgent message system"
                ],
                [
                    "1 << 5",
                    "HAS_THREAD",
                    "this message has an associated thread, with the same id as the message"
                ],
                [
                    "1 << 6",
                    "EPHEMERAL",
                    "this message is only visible to the user who invoked the Interaction"
                ],
                [
                    "1 << 7",
                    "LOADING",
                    "this message is an Interaction Response and the bot is \"thinking\""
                ]
            ]
        },
        "interaction": {
            "description": "OPTIONAL: sent if the message is a response to an Interaction",
            "type": "object",
            "existing_parser": "message_interaction"
        },
        "thread": {
            "description": "OPTIONAL: the thread that was started from this message, includes thread member object. You should parse this yourself if you want it.",
            "type": "raw"
        },
        "components": {
            "description": "OPTIONAL: sent if the message contains components like buttons, action rows, or other interactive components",
            "type": "array",
            "existing_parser": "component_arr"
        },
        "sticker_items": {
            "description": "OPTIONAL: sent if the message contains stickers",
            "type": "array",
            "existing_parser": "sticker_item_arr"
        }
    }
}